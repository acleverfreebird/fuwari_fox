---
import Layout from "@layouts/Layout.astro";
import { Icon } from "astro-icon/components";
---

<Layout title="ç¦»çº¿æ¨¡å¼">
    <main id="swup-container">
        <div class="min-h-screen flex items-center justify-center px-4 py-12">
            <div class="card-base z-10 px-6 md:px-9 py-8 md:py-12 relative w-full max-w-2xl">
                <div class="flex flex-col items-center justify-center text-center space-y-6">
                    <!-- ç¦»çº¿å›¾æ ‡ -->
                    <div class="w-24 h-24 rounded-full bg-black/5 dark:bg-white/10 flex items-center justify-center">
                        <Icon name="material-symbols:wifi-off-rounded" class="text-6xl text-black/30 dark:text-white/30" />
                    </div>
                    
                    <!-- æ ‡é¢˜ -->
                    <h1 class="text-4xl font-bold text-[var(--primary)]">
                        æ‚¨å½“å‰å¤„äºç¦»çº¿çŠ¶æ€
                    </h1>
                    
                    <!-- æè¿° -->
                    <p class="text-lg text-black/60 dark:text-white/60 max-w-md">
                        çœ‹èµ·æ¥æ‚¨çš„ç½‘ç»œè¿æ¥å·²æ–­å¼€ã€‚è¯·æ£€æŸ¥æ‚¨çš„ç½‘ç»œè®¾ç½®ï¼Œç„¶åé‡è¯•ã€‚
                    </p>
                    
                    <!-- æç¤ºä¿¡æ¯ -->
                    <div class="card-base p-6 rounded-xl max-w-lg w-full">
                        <h2 class="text-xl font-semibold mb-4 text-black/80 dark:text-white/80">
                            ğŸ’¡ æ‚¨å¯ä»¥ï¼š
                        </h2>
                        <ul class="space-y-3 text-left text-black/70 dark:text-white/70">
                            <li class="flex items-start gap-3">
                                <Icon name="material-symbols:check-circle-outline-rounded" class="text-xl text-[var(--primary)] mt-0.5 flex-shrink-0" />
                                <span>æµè§ˆæ‚¨ä¹‹å‰è®¿é—®è¿‡çš„ç¼“å­˜é¡µé¢</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <Icon name="material-symbols:check-circle-outline-rounded" class="text-xl text-[var(--primary)] mt-0.5 flex-shrink-0" />
                                <span>æ£€æŸ¥æ‚¨çš„ç½‘ç»œè¿æ¥</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <Icon name="material-symbols:check-circle-outline-rounded" class="text-xl text-[var(--primary)] mt-0.5 flex-shrink-0" />
                                <span>ç¨åé‡æ–°åŠ è½½æ­¤é¡µé¢</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- æ“ä½œæŒ‰é’® -->
                    <div class="flex gap-4 flex-wrap justify-center">
                        <button
                                onclick="window.location.reload()"
                                class="btn-card px-6 py-3 rounded-lg font-medium transition-all hover:scale-105 active:scale-95"
                        >
                            <Icon name="material-symbols:refresh-rounded" class="inline-block mr-2 text-xl" />
                            é‡æ–°åŠ è½½
                        </button>
                        
                        <a
                                href="/"
                                class="btn-card px-6 py-3 rounded-lg font-medium transition-all hover:scale-105 active:scale-95"
                        >
                            <Icon name="material-symbols:home-rounded" class="inline-block mr-2 text-xl" />
                            è¿”å›é¦–é¡µ
                        </a>
                    </div>
                    
                    <!-- ç½‘ç»œçŠ¶æ€æ£€æµ‹ -->
                    <div id="network-status" class="text-sm text-black/50 dark:text-white/50"></div>
                </div>
            </div>
        </div>
    </main>
</Layout>

<script>
    // ç½‘ç»œçŠ¶æ€æ£€æµ‹
    function updateNetworkStatus() {
        const statusElement = document.getElementById('network-status');
        if (!statusElement) return;
        
        if (navigator.onLine) {
            statusElement.innerHTML = 'âœ… ç½‘ç»œå·²è¿æ¥ - æ­£åœ¨å°è¯•é‡æ–°åŠ è½½...';
            statusElement.className = 'text-sm text-green-600 dark:text-green-400';
            
            // ç½‘ç»œæ¢å¤åè‡ªåŠ¨é‡æ–°åŠ è½½
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        } else {
            statusElement.innerHTML = 'âŒ ç½‘ç»œæœªè¿æ¥';
            statusElement.className = 'text-sm text-red-600 dark:text-red-400';
        }
    }
    
    // ç›‘å¬ç½‘ç»œçŠ¶æ€å˜åŒ–
    window.addEventListener('online', updateNetworkStatus);
    window.addEventListener('offline', updateNetworkStatus);
    
    // åˆå§‹æ£€æµ‹
    document.addEventListener('DOMContentLoaded', updateNetworkStatus);
</script>

<style>
    /* æ·»åŠ æ·¡å…¥åŠ¨ç”» */
    .card-base {
        animation: fadeIn 0.5s ease-in-out;
    }
    
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>